---
title: "R Notebook"
output: html_notebook
---



```{r}
library(data.table)     # Run once per session
library(ggplot2)        # Run once per session
library(igraph)         # Run once per session

dt.trade <- fread("cleaned_trade_data.csv")
dt.trade
```


```{r}
# Set the parameters
dt.trade <- dt.trade[reporter_name == "Afghanistan"]
dt.trade <- dt.trade[year == 2017]

# Set the vertices
dt.all.reporters <- dt.trade[, list(name=unique(reporter_name), type=FALSE)]
dt.all.partners <- dt.trade[, list(name=unique(partner_name), type=TRUE)]

dt.all.vertices <- rbind(dt.all.reporters, dt.all.partners)

# Create & plot the graph
g <- graph.data.frame(dt.trade[, list(reporter_name, partner_name)], directed=TRUE, vertices=dt.all.vertices)

plot(g, vertex.size = 5, vertex.label.cex = 0.6)

# Add weights to the graph & plot
g <- set_edge_attr(g, "weight", value= dt.trade$trade_value_usd)

plot(g, vertex.size = 5, vertex.label.cex = 0.6)
```



